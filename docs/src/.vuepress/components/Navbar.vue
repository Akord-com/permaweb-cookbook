<script setup>
import { ref, onMounted } from "vue";

import ToggleColorModeButton from "@theme/ToggleColorModeButton.vue";
import { useThemeLocaleData } from "@vuepress/theme-default/lib/client/composables/index.js";
import I18NRouterLink from "./I18NRouterLink.vue";
import ToggleSidebarButton from "./ToggleSidebarButton.vue";
import ToggleLanguageButton from "./ToggleLanguageButton.vue";

defineEmits(["toggle-sidebar", "toggle-language"]);

const themeLocale = useThemeLocaleData();
const navbar = ref(null);
const searchBox = ref(null);

const searchBoxFocused = ref(false);

onMounted(() => {
  searchBox.value[0].onfocus = (e) => {
    searchBoxFocused.value = true;
  };

  searchBox.value[0].onblur = (e) => {
    searchBoxFocused.value = false;
  };
});
</script>

<template>
  <header
    ref="navbar"
    class="cookbook-navbar"
    :class="{ 'search-expanded': searchBoxFocused }"
  >
    <div class="container-xxl" style="height: 100%;">
      <div class="row justify-content-between align-items-center px-md-4" style="height: 100%;">
        <div class="col-8 col-md-4 col-lg-3 d-flex align-items-center">
          <ToggleSidebarButton
            style="margin-right: 26px"
            class="d-md-none"
            @toggle="$emit('toggle-sidebar')"
          />

          <I18NRouterLink to="/" style="flex: 1;">
            <div class="logo"></div>
          </I18NRouterLink>
        </div>

        <div class="col-3 col-md-8 col-lg-9">
          <div class="cookbook-navbar-items">
            <ToggleLanguageButton
              style="margin-right: 42px"
              class="d-none d-md-block"
              @toggle="$emit('toggle-language')"
            />
            <I18NRouterLink
              class="d-none d-md-block"
              style="color: var(--c-text)"
              to="/getting-started/"
              >Docs</I18NRouterLink
            >

            <ToggleColorModeButton
              class="d-none d-md-block"
              style="margin: 0 42px; font-size: 0"
              v-if="themeLocale.colorModeSwitch"
            />

            <a
              class="hidden-on-search"
              style="font-size: 0"
              target="_blank"
              href="https://github.com/twilson63/permaweb-cookbook"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 98 96"
                width="20"
                height="20"
              >
                <path
                  class="text-fill"
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
                />
              </svg>
            </a>

            <SearchBox ref="searchBox" />
          </div>
        </div>
      </div>
    </div>
  </header>
</template>

<style lang="scss">
@import "../styles/bootstrap.scss";

:root {
  --nav-h: 100px;

  @include media-breakpoint-down(md) {
    --nav-h: 50px;
  }
}

.cookbook-navbar {
  height: var(--nav-h);

  .logo {
    max-width: 200px;
    width: 100%;
    aspect-ratio: 5.627;

    mask: url("data:image/svg+xml,%3Csvg width='452' height='34' viewBox='0 0 452 34' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M71.3984 20.5703V31H65.9102V2.5625H75.6367C77.1862 2.5625 78.5859 2.79036 79.8359 3.24609C81.0859 3.6888 82.1536 4.30729 83.0391 5.10156C83.9115 5.90885 84.582 6.8724 85.0508 7.99219C85.5326 9.11198 85.7734 10.3555 85.7734 11.7227C85.7734 12.9987 85.5326 14.1771 85.0508 15.2578C84.582 16.3385 83.9115 17.2695 83.0391 18.0508C82.1536 18.8451 81.0859 19.4635 79.8359 19.9062C78.5859 20.349 77.1862 20.5703 75.6367 20.5703H71.3984ZM71.3984 16.1172H75.6367C76.418 16.1172 77.0951 16 77.668 15.7656C78.2409 15.5312 78.7227 15.2122 79.1133 14.8086C79.4909 14.4049 79.7708 13.9427 79.9531 13.4219C80.1484 12.888 80.2461 12.3346 80.2461 11.7617C80.2461 11.0977 80.1484 10.4792 79.9531 9.90625C79.7708 9.33333 79.4909 8.83203 79.1133 8.40234C78.7227 7.97266 78.2409 7.63411 77.668 7.38672C77.0951 7.13932 76.418 7.01562 75.6367 7.01562H71.3984V16.1172ZM98.4312 31.3906C96.8036 31.3906 95.3258 31.1237 93.9977 30.5898C92.6695 30.056 91.5302 29.3268 90.5797 28.4023C89.6292 27.4909 88.8935 26.4167 88.3727 25.1797C87.8648 23.9297 87.6109 22.5951 87.6109 21.1758V20.3945C87.6109 18.7799 87.8648 17.3086 88.3727 15.9805C88.8805 14.6393 89.5901 13.487 90.5016 12.5234C91.413 11.5599 92.4937 10.8112 93.7437 10.2773C94.9937 9.74349 96.3544 9.47656 97.8258 9.47656C99.3492 9.47656 100.703 9.73047 101.888 10.2383C103.086 10.7331 104.102 11.4362 104.935 12.3477C105.755 13.2591 106.38 14.3594 106.81 15.6484C107.24 16.9245 107.455 18.3372 107.455 19.8867V22.1914H93.1187V22.25C93.301 23.0964 93.5354 23.7799 93.8219 24.3008C94.1083 24.8086 94.4924 25.2708 94.9742 25.6875C95.469 26.1172 96.0354 26.4492 96.6734 26.6836C97.3115 26.918 98.0081 27.0352 98.7633 27.0352C99.831 27.0352 100.866 26.8333 101.869 26.4297C102.871 26.026 103.685 25.4206 104.31 24.6133L107.025 27.543C106.335 28.5195 105.241 29.4049 103.744 30.1992C102.246 30.9935 100.476 31.3906 98.4312 31.3906ZM97.7867 13.8711C97.1747 13.8711 96.6148 13.9818 96.107 14.2031C95.5992 14.4115 95.1565 14.7174 94.7789 15.1211C94.3883 15.5247 94.0628 16.0065 93.8023 16.5664C93.5419 17.1263 93.3466 17.7513 93.2164 18.4414H102.123V18.0117C102.123 17.4388 102.018 16.8984 101.81 16.3906C101.602 15.8828 101.315 15.4401 100.951 15.0625C100.586 14.6979 100.137 14.4115 99.6031 14.2031C99.0823 13.9818 98.4768 13.8711 97.7867 13.8711ZM123.377 9.47656C124.197 9.47656 124.952 9.53516 125.642 9.65234C126.345 9.75651 126.912 9.8737 127.341 10.0039L126.541 15.4141C125.824 15.2448 125.089 15.1211 124.334 15.043C123.591 14.9518 122.882 14.9062 122.205 14.9062C121.502 14.9062 120.864 14.9714 120.291 15.1016C119.731 15.2188 119.229 15.401 118.787 15.6484C118.253 15.9349 117.797 16.2995 117.42 16.7422C117.042 17.1849 116.729 17.7057 116.482 18.3047V31H111.052V9.86719H116.111L116.326 12.8555L116.365 13.3242C117.224 12.1263 118.253 11.1888 119.451 10.5117C120.649 9.82161 121.957 9.47656 123.377 9.47656ZM135.203 9.86719L135.359 12.4258C135.763 11.5143 136.316 10.7982 137.02 10.2773C137.736 9.74349 138.602 9.47656 139.617 9.47656C140.112 9.47656 140.555 9.53516 140.945 9.65234C141.336 9.76953 141.674 9.95182 141.961 10.1992C142.182 10.3815 142.371 10.6029 142.527 10.8633C142.697 11.1107 142.84 11.3971 142.957 11.7227C143.139 11.4102 143.341 11.1302 143.562 10.8828C143.797 10.6224 144.051 10.401 144.324 10.2188C144.663 9.98438 145.047 9.80208 145.477 9.67188C145.906 9.54167 146.375 9.47656 146.883 9.47656C147.521 9.47656 148.113 9.59375 148.66 9.82812C149.22 10.0625 149.708 10.4336 150.125 10.9414C150.529 11.4622 150.841 12.1328 151.062 12.9531C151.297 13.7604 151.414 14.75 151.414 15.9219V31H146.473V15.9023C146.473 15.4987 146.427 15.1667 146.336 14.9062C146.258 14.6458 146.147 14.4375 146.004 14.2812C145.861 14.138 145.691 14.0404 145.496 13.9883C145.314 13.9232 145.125 13.8906 144.93 13.8906C144.721 13.8906 144.533 13.9167 144.363 13.9688C144.207 14.0208 144.057 14.0924 143.914 14.1836C143.797 14.2747 143.693 14.3789 143.602 14.4961C143.51 14.6003 143.432 14.724 143.367 14.8672C143.367 14.8932 143.367 14.9518 143.367 15.043C143.367 15.1341 143.367 15.2578 143.367 15.4141V31H138.582V15.8828C138.582 15.4792 138.543 15.1471 138.465 14.8867C138.387 14.6263 138.283 14.4245 138.152 14.2812C138.009 14.138 137.846 14.0404 137.664 13.9883C137.482 13.9232 137.286 13.8906 137.078 13.8906C136.844 13.8906 136.635 13.9297 136.453 14.0078C136.271 14.0859 136.108 14.1966 135.965 14.3398C135.861 14.444 135.77 14.5677 135.691 14.7109C135.613 14.8542 135.542 15.0104 135.477 15.1797V31H130.535V9.86719H135.203ZM168.851 31C168.721 30.7396 168.61 30.4401 168.519 30.1016C168.428 29.763 168.349 29.4049 168.284 29.0273C167.985 29.3529 167.64 29.6589 167.249 29.9453C166.859 30.2318 166.429 30.4792 165.96 30.6875C165.478 30.9089 164.951 31.0781 164.378 31.1953C163.805 31.3255 163.187 31.3906 162.523 31.3906C161.442 31.3906 160.446 31.2344 159.534 30.9219C158.636 30.6094 157.861 30.1732 157.21 29.6133C156.559 29.0534 156.051 28.3893 155.687 27.6211C155.322 26.8398 155.14 25.9935 155.14 25.082C155.14 23.9102 155.368 22.875 155.823 21.9766C156.279 21.0651 156.963 20.3164 157.874 19.7305C158.695 19.1966 159.704 18.793 160.902 18.5195C162.113 18.2331 163.499 18.0898 165.062 18.0898H168.089V16.8398C168.089 16.3451 168.011 15.9023 167.855 15.5117C167.698 15.1081 167.464 14.763 167.152 14.4766C166.826 14.1771 166.416 13.9492 165.921 13.793C165.439 13.6237 164.873 13.5391 164.222 13.5391C163.649 13.5391 163.154 13.6107 162.738 13.7539C162.321 13.8841 161.982 14.0729 161.722 14.3203C161.488 14.5417 161.312 14.8086 161.195 15.1211C161.09 15.4336 161.038 15.7786 161.038 16.1562H155.609C155.609 15.2578 155.804 14.4049 156.195 13.5977C156.598 12.7904 157.184 12.0807 157.952 11.4688C158.708 10.8568 159.632 10.375 160.726 10.0234C161.833 9.65885 163.096 9.47656 164.515 9.47656C165.791 9.47656 166.976 9.63281 168.07 9.94531C169.176 10.2578 170.133 10.7201 170.941 11.332C171.748 11.944 172.379 12.7188 172.835 13.6562C173.291 14.5807 173.519 15.6549 173.519 16.8789V25.9414C173.519 27.0742 173.59 28.0117 173.734 28.7539C173.877 29.4961 174.085 30.1341 174.359 30.668V31H168.851ZM163.675 27.1914C164.222 27.1914 164.73 27.1263 165.198 26.9961C165.667 26.8659 166.09 26.6966 166.468 26.4883C166.846 26.2799 167.171 26.0456 167.445 25.7852C167.718 25.5117 167.933 25.2383 168.089 24.9648V21.332H165.316C164.469 21.332 163.747 21.4167 163.148 21.5859C162.549 21.7422 162.06 21.9635 161.683 22.25C161.305 22.5495 161.025 22.9076 160.843 23.3242C160.661 23.7279 160.57 24.1706 160.57 24.6523C160.57 25.0299 160.635 25.3815 160.765 25.707C160.908 26.0195 161.11 26.2865 161.37 26.5078C161.631 26.7161 161.95 26.8854 162.327 27.0156C162.718 27.1328 163.167 27.1914 163.675 27.1914ZM180.234 31L176.445 9.86719H181.405L182.988 22.4258L183.241 24.4375L183.613 22.4258L185.898 9.86719H189.53L191.816 22.3672L192.187 24.3789L192.46 22.3281L194.023 9.86719H199.003L195.214 31H190.448L188.124 19.7109L187.675 17.5625L187.245 19.7109L184.999 31H180.234ZM211.948 31.3906C210.321 31.3906 208.843 31.1237 207.515 30.5898C206.187 30.056 205.047 29.3268 204.097 28.4023C203.146 27.4909 202.411 26.4167 201.89 25.1797C201.382 23.9297 201.128 22.5951 201.128 21.1758V20.3945C201.128 18.7799 201.382 17.3086 201.89 15.9805C202.398 14.6393 203.107 13.487 204.019 12.5234C204.93 11.5599 206.011 10.8112 207.261 10.2773C208.511 9.74349 209.872 9.47656 211.343 9.47656C212.866 9.47656 214.221 9.73047 215.405 10.2383C216.603 10.7331 217.619 11.4362 218.452 12.3477C219.273 13.2591 219.898 14.3594 220.327 15.6484C220.757 16.9245 220.972 18.3372 220.972 19.8867V22.1914H206.636V22.25C206.818 23.0964 207.053 23.7799 207.339 24.3008C207.626 24.8086 208.01 25.2708 208.491 25.6875C208.986 26.1172 209.553 26.4492 210.191 26.6836C210.829 26.918 211.525 27.0352 212.28 27.0352C213.348 27.0352 214.383 26.8333 215.386 26.4297C216.389 26.026 217.202 25.4206 217.827 24.6133L220.542 27.543C219.852 28.5195 218.758 29.4049 217.261 30.1992C215.764 30.9935 213.993 31.3906 211.948 31.3906ZM211.304 13.8711C210.692 13.8711 210.132 13.9818 209.624 14.2031C209.116 14.4115 208.674 14.7174 208.296 15.1211C207.905 15.5247 207.58 16.0065 207.32 16.5664C207.059 17.1263 206.864 17.7513 206.734 18.4414H215.64V18.0117C215.64 17.4388 215.536 16.8984 215.327 16.3906C215.119 15.8828 214.833 15.4401 214.468 15.0625C214.103 14.6979 213.654 14.4115 213.12 14.2031C212.599 13.9818 211.994 13.8711 211.304 13.8711ZM243.361 20.6484C243.361 21.6641 243.289 22.6276 243.146 23.5391C243.003 24.4375 242.795 25.2708 242.521 26.0391C242.222 26.8854 241.824 27.6536 241.33 28.3438C240.848 29.0339 240.275 29.6068 239.611 30.0625C239.012 30.4922 238.335 30.8177 237.58 31.0391C236.837 31.2734 236.017 31.3906 235.119 31.3906C234.298 31.3906 233.55 31.2865 232.873 31.0781C232.209 30.8828 231.61 30.5898 231.076 30.1992C230.789 30.0039 230.522 29.7891 230.275 29.5547C230.028 29.3073 229.793 29.0404 229.572 28.7539L229.318 31H224.435V1H229.865V11.7812C230.125 11.4818 230.405 11.2083 230.705 10.9609C231.004 10.7005 231.323 10.4792 231.662 10.2969C232.143 10.0234 232.664 9.82161 233.224 9.69141C233.797 9.54818 234.416 9.47656 235.08 9.47656C235.991 9.47656 236.824 9.59375 237.58 9.82812C238.348 10.0625 239.032 10.401 239.63 10.8438C240.112 11.1823 240.548 11.5924 240.939 12.0742C241.33 12.543 241.675 13.0573 241.974 13.6172C242.443 14.5156 242.788 15.5247 243.009 16.6445C243.244 17.7643 243.361 18.9622 243.361 20.2383V20.6484ZM237.931 20.2383C237.931 19.6784 237.905 19.138 237.853 18.6172C237.801 18.0964 237.716 17.6081 237.599 17.1523C237.456 16.6185 237.267 16.1432 237.033 15.7266C236.811 15.2969 236.473 14.9062 236.017 14.5547C235.718 14.3333 235.379 14.1706 235.002 14.0664C234.624 13.9492 234.194 13.8906 233.712 13.8906C233.061 13.8906 232.489 13.9818 231.994 14.1641C231.499 14.3464 231.076 14.6133 230.724 14.9648C230.555 15.1341 230.399 15.3294 230.255 15.5508C230.112 15.7591 229.982 15.987 229.865 16.2344V24.6523C230.021 24.9779 230.197 25.2773 230.392 25.5508C230.601 25.8112 230.841 26.0391 231.115 26.2344C231.44 26.4818 231.818 26.6706 232.248 26.8008C232.69 26.931 233.192 26.9961 233.752 26.9961C234.233 26.9961 234.67 26.9375 235.06 26.8203C235.451 26.7031 235.789 26.5404 236.076 26.332C236.479 26.0456 236.805 25.6745 237.052 25.2188C237.313 24.75 237.508 24.2227 237.638 23.6367C237.742 23.207 237.814 22.7383 237.853 22.2305C237.905 21.7227 237.931 21.1953 237.931 20.6484V20.2383ZM287.916 22.0938C287.824 23.526 287.512 24.8151 286.978 25.9609C286.457 27.1068 285.754 28.0833 284.869 28.8906C283.983 29.6979 282.929 30.3229 281.705 30.7656C280.481 31.1953 279.127 31.4102 277.642 31.4102C276.47 31.4102 275.383 31.2604 274.38 30.9609C273.391 30.6484 272.499 30.2057 271.705 29.6328C270.976 29.099 270.324 28.4544 269.752 27.6992C269.192 26.944 268.716 26.1107 268.326 25.1992C267.948 24.2878 267.655 23.2852 267.447 22.1914C267.252 21.0977 267.154 19.9388 267.154 18.7148V14.8867C267.154 13.7409 267.245 12.6536 267.427 11.625C267.61 10.5833 267.883 9.61979 268.248 8.73438C268.664 7.65365 269.211 6.6901 269.888 5.84375C270.565 4.9974 271.334 4.28125 272.193 3.69531C272.961 3.20052 273.801 2.82292 274.712 2.5625C275.637 2.28906 276.627 2.15234 277.681 2.15234C279.244 2.15234 280.63 2.3737 281.841 2.81641C283.065 3.25911 284.107 3.89062 284.966 4.71094C285.826 5.53125 286.503 6.53385 286.998 7.71875C287.492 8.90365 287.805 10.2383 287.935 11.7227H282.466C282.414 10.8763 282.284 10.1341 282.076 9.49609C281.88 8.85807 281.594 8.32422 281.216 7.89453C280.826 7.47786 280.337 7.16536 279.752 6.95703C279.179 6.73568 278.489 6.625 277.681 6.625C277.252 6.625 276.848 6.67057 276.47 6.76172C276.106 6.85286 275.767 6.98958 275.455 7.17188C274.921 7.48438 274.465 7.93359 274.087 8.51953C273.723 9.09245 273.43 9.76302 273.209 10.5312C273.039 11.1302 272.916 11.7943 272.837 12.5234C272.759 13.2396 272.72 14.0143 272.72 14.8477V18.7148C272.72 19.8477 272.779 20.8633 272.896 21.7617C273.026 22.6471 273.222 23.4219 273.482 24.0859C273.664 24.5417 273.879 24.9453 274.127 25.2969C274.387 25.6484 274.68 25.9414 275.005 26.1758C275.357 26.4362 275.748 26.6315 276.177 26.7617C276.62 26.8789 277.108 26.9375 277.642 26.9375C278.358 26.9375 279.003 26.8464 279.576 26.6641C280.149 26.4818 280.637 26.1953 281.041 25.8047C281.444 25.4141 281.763 24.9128 281.998 24.3008C282.232 23.6888 282.375 22.9531 282.427 22.0938H287.916ZM290.846 20.2383C290.846 18.7018 291.067 17.2826 291.51 15.9805C291.953 14.6654 292.604 13.526 293.463 12.5625C294.31 11.599 295.345 10.8438 296.569 10.2969C297.806 9.75 299.218 9.47656 300.807 9.47656C302.396 9.47656 303.808 9.75 305.045 10.2969C306.282 10.8438 307.33 11.599 308.19 12.5625C309.036 13.526 309.681 14.6654 310.123 15.9805C310.566 17.2826 310.788 18.7018 310.788 20.2383V20.6484C310.788 22.1979 310.566 23.6302 310.123 24.9453C309.681 26.2474 309.036 27.3802 308.19 28.3438C307.343 29.3073 306.302 30.0625 305.065 30.6094C303.828 31.1432 302.422 31.4102 300.846 31.4102C299.258 31.4102 297.838 31.1432 296.588 30.6094C295.351 30.0625 294.31 29.3073 293.463 28.3438C292.604 27.3802 291.953 26.2474 291.51 24.9453C291.067 23.6302 290.846 22.1979 290.846 20.6484V20.2383ZM296.276 20.6484C296.276 21.5339 296.36 22.3672 296.53 23.1484C296.699 23.9167 296.966 24.5872 297.33 25.1602C297.695 25.7461 298.164 26.2083 298.737 26.5469C299.323 26.8854 300.026 27.0547 300.846 27.0547C301.64 27.0547 302.324 26.8854 302.897 26.5469C303.47 26.2083 303.939 25.7461 304.303 25.1602C304.655 24.5872 304.915 23.9167 305.084 23.1484C305.254 22.3672 305.338 21.5339 305.338 20.6484V20.2383C305.338 19.3789 305.254 18.5651 305.084 17.7969C304.915 17.0286 304.655 16.3516 304.303 15.7656C303.939 15.1797 303.47 14.7174 302.897 14.3789C302.324 14.0404 301.627 13.8711 300.807 13.8711C300 13.8711 299.31 14.0404 298.737 14.3789C298.164 14.7174 297.695 15.1797 297.33 15.7656C296.966 16.3516 296.699 17.0286 296.53 17.7969C296.36 18.5651 296.276 19.3789 296.276 20.2383V20.6484ZM313.87 20.2383C313.87 18.7018 314.091 17.2826 314.534 15.9805C314.976 14.6654 315.627 13.526 316.487 12.5625C317.333 11.599 318.368 10.8438 319.592 10.2969C320.829 9.75 322.242 9.47656 323.83 9.47656C325.419 9.47656 326.832 9.75 328.069 10.2969C329.306 10.8438 330.354 11.599 331.213 12.5625C332.06 13.526 332.704 14.6654 333.147 15.9805C333.59 17.2826 333.811 18.7018 333.811 20.2383V20.6484C333.811 22.1979 333.59 23.6302 333.147 24.9453C332.704 26.2474 332.06 27.3802 331.213 28.3438C330.367 29.3073 329.325 30.0625 328.088 30.6094C326.851 31.1432 325.445 31.4102 323.87 31.4102C322.281 31.4102 320.862 31.1432 319.612 30.6094C318.375 30.0625 317.333 29.3073 316.487 28.3438C315.627 27.3802 314.976 26.2474 314.534 24.9453C314.091 23.6302 313.87 22.1979 313.87 20.6484V20.2383ZM319.299 20.6484C319.299 21.5339 319.384 22.3672 319.553 23.1484C319.722 23.9167 319.989 24.5872 320.354 25.1602C320.718 25.7461 321.187 26.2083 321.76 26.5469C322.346 26.8854 323.049 27.0547 323.87 27.0547C324.664 27.0547 325.347 26.8854 325.92 26.5469C326.493 26.2083 326.962 25.7461 327.327 25.1602C327.678 24.5872 327.939 23.9167 328.108 23.1484C328.277 22.3672 328.362 21.5339 328.362 20.6484V20.2383C328.362 19.3789 328.277 18.5651 328.108 17.7969C327.939 17.0286 327.678 16.3516 327.327 15.7656C326.962 15.1797 326.493 14.7174 325.92 14.3789C325.347 14.0404 324.651 13.8711 323.83 13.8711C323.023 13.8711 322.333 14.0404 321.76 14.3789C321.187 14.7174 320.718 15.1797 320.354 15.7656C319.989 16.3516 319.722 17.0286 319.553 17.7969C319.384 18.5651 319.299 19.3789 319.299 20.2383V20.6484ZM345.384 22.2695L342.923 24.5547V31H337.494V1H342.923V18.1484L344.564 16.2734L350.404 9.86719H356.927L348.959 18.6758L358.041 31H351.38L345.384 22.2695ZM380.102 20.6484C380.102 21.6641 380.03 22.6276 379.887 23.5391C379.743 24.4375 379.535 25.2708 379.262 26.0391C378.962 26.8854 378.565 27.6536 378.07 28.3438C377.589 29.0339 377.016 29.6068 376.352 30.0625C375.753 30.4922 375.076 30.8177 374.32 31.0391C373.578 31.2734 372.758 31.3906 371.859 31.3906C371.039 31.3906 370.29 31.2865 369.613 31.0781C368.949 30.8828 368.35 30.5898 367.816 30.1992C367.53 30.0039 367.263 29.7891 367.016 29.5547C366.768 29.3073 366.534 29.0404 366.312 28.7539L366.059 31H361.176V1H366.605V11.7812C366.866 11.4818 367.146 11.2083 367.445 10.9609C367.745 10.7005 368.064 10.4792 368.402 10.2969C368.884 10.0234 369.405 9.82161 369.965 9.69141C370.538 9.54818 371.156 9.47656 371.82 9.47656C372.732 9.47656 373.565 9.59375 374.32 9.82812C375.089 10.0625 375.772 10.401 376.371 10.8438C376.853 11.1823 377.289 11.5924 377.68 12.0742C378.07 12.543 378.415 13.0573 378.715 13.6172C379.184 14.5156 379.529 15.5247 379.75 16.6445C379.984 17.7643 380.102 18.9622 380.102 20.2383V20.6484ZM374.672 20.2383C374.672 19.6784 374.646 19.138 374.594 18.6172C374.542 18.0964 374.457 17.6081 374.34 17.1523C374.197 16.6185 374.008 16.1432 373.773 15.7266C373.552 15.2969 373.214 14.9062 372.758 14.5547C372.458 14.3333 372.12 14.1706 371.742 14.0664C371.365 13.9492 370.935 13.8906 370.453 13.8906C369.802 13.8906 369.229 13.9818 368.734 14.1641C368.24 14.3464 367.816 14.6133 367.465 14.9648C367.296 15.1341 367.139 15.3294 366.996 15.5508C366.853 15.7591 366.723 15.987 366.605 16.2344V24.6523C366.762 24.9779 366.938 25.2773 367.133 25.5508C367.341 25.8112 367.582 26.0391 367.855 26.2344C368.181 26.4818 368.559 26.6706 368.988 26.8008C369.431 26.931 369.932 26.9961 370.492 26.9961C370.974 26.9961 371.41 26.9375 371.801 26.8203C372.191 26.7031 372.53 26.5404 372.816 26.332C373.22 26.0456 373.546 25.6745 373.793 25.2188C374.053 24.75 374.249 24.2227 374.379 23.6367C374.483 23.207 374.555 22.7383 374.594 22.2305C374.646 21.7227 374.672 21.1953 374.672 20.6484V20.2383ZM383.54 20.2383C383.54 18.7018 383.761 17.2826 384.204 15.9805C384.647 14.6654 385.298 13.526 386.157 12.5625C387.003 11.599 388.039 10.8438 389.263 10.2969C390.499 9.75 391.912 9.47656 393.501 9.47656C395.089 9.47656 396.502 9.75 397.739 10.2969C398.976 10.8438 400.024 11.599 400.884 12.5625C401.73 13.526 402.374 14.6654 402.817 15.9805C403.26 17.2826 403.481 18.7018 403.481 20.2383V20.6484C403.481 22.1979 403.26 23.6302 402.817 24.9453C402.374 26.2474 401.73 27.3802 400.884 28.3438C400.037 29.3073 398.996 30.0625 397.759 30.6094C396.522 31.1432 395.115 31.4102 393.54 31.4102C391.951 31.4102 390.532 31.1432 389.282 30.6094C388.045 30.0625 387.003 29.3073 386.157 28.3438C385.298 27.3802 384.647 26.2474 384.204 24.9453C383.761 23.6302 383.54 22.1979 383.54 20.6484V20.2383ZM388.97 20.6484C388.97 21.5339 389.054 22.3672 389.223 23.1484C389.393 23.9167 389.66 24.5872 390.024 25.1602C390.389 25.7461 390.858 26.2083 391.43 26.5469C392.016 26.8854 392.72 27.0547 393.54 27.0547C394.334 27.0547 395.018 26.8854 395.591 26.5469C396.164 26.2083 396.632 25.7461 396.997 25.1602C397.348 24.5872 397.609 23.9167 397.778 23.1484C397.947 22.3672 398.032 21.5339 398.032 20.6484V20.2383C398.032 19.3789 397.947 18.5651 397.778 17.7969C397.609 17.0286 397.348 16.3516 396.997 15.7656C396.632 15.1797 396.164 14.7174 395.591 14.3789C395.018 14.0404 394.321 13.8711 393.501 13.8711C392.694 13.8711 392.003 14.0404 391.43 14.3789C390.858 14.7174 390.389 15.1797 390.024 15.7656C389.66 16.3516 389.393 17.0286 389.223 17.7969C389.054 18.5651 388.97 19.3789 388.97 20.2383V20.6484ZM406.763 20.2383C406.763 18.7018 406.985 17.2826 407.427 15.9805C407.87 14.6654 408.521 13.526 409.38 12.5625C410.227 11.599 411.262 10.8438 412.486 10.2969C413.723 9.75 415.136 9.47656 416.724 9.47656C418.313 9.47656 419.726 9.75 420.962 10.2969C422.199 10.8438 423.248 11.599 424.107 12.5625C424.953 13.526 425.598 14.6654 426.041 15.9805C426.483 17.2826 426.705 18.7018 426.705 20.2383V20.6484C426.705 22.1979 426.483 23.6302 426.041 24.9453C425.598 26.2474 424.953 27.3802 424.107 28.3438C423.261 29.3073 422.219 30.0625 420.982 30.6094C419.745 31.1432 418.339 31.4102 416.763 31.4102C415.175 31.4102 413.755 31.1432 412.505 30.6094C411.268 30.0625 410.227 29.3073 409.38 28.3438C408.521 27.3802 407.87 26.2474 407.427 24.9453C406.985 23.6302 406.763 22.1979 406.763 20.6484V20.2383ZM412.193 20.6484C412.193 21.5339 412.278 22.3672 412.447 23.1484C412.616 23.9167 412.883 24.5872 413.248 25.1602C413.612 25.7461 414.081 26.2083 414.654 26.5469C415.24 26.8854 415.943 27.0547 416.763 27.0547C417.558 27.0547 418.241 26.8854 418.814 26.5469C419.387 26.2083 419.856 25.7461 420.22 25.1602C420.572 24.5872 420.832 23.9167 421.002 23.1484C421.171 22.3672 421.255 21.5339 421.255 20.6484V20.2383C421.255 19.3789 421.171 18.5651 421.002 17.7969C420.832 17.0286 420.572 16.3516 420.22 15.7656C419.856 15.1797 419.387 14.7174 418.814 14.3789C418.241 14.0404 417.545 13.8711 416.724 13.8711C415.917 13.8711 415.227 14.0404 414.654 14.3789C414.081 14.7174 413.612 15.1797 413.248 15.7656C412.883 16.3516 412.616 17.0286 412.447 17.7969C412.278 18.5651 412.193 19.3789 412.193 20.2383V20.6484ZM438.478 22.2695L436.017 24.5547V31H430.587V1H436.017V18.1484L437.658 16.2734L443.498 9.86719H450.021L442.052 18.6758L451.134 31H444.474L438.478 22.2695Z' fill='black'/%3E%3Cpath d='M17 32C25.2843 32 32 25.2843 32 17C32 8.71573 25.2843 2 17 2C8.71573 2 2 8.71573 2 17C2 25.2843 8.71573 32 17 32Z' stroke='%23242424' stroke-width='2.5'/%3E%3Cpath d='M19.4015 22.739C19.3303 22.5982 19.2698 22.4362 19.22 22.2532C19.1701 22.07 19.1274 21.8764 19.0918 21.6722C18.928 21.8482 18.7393 22.0138 18.5257 22.1686C18.312 22.3236 18.0735 22.4609 17.81 22.5806C17.5537 22.6932 17.2688 22.7813 16.9555 22.8446C16.6422 22.915 16.304 22.9503 15.9408 22.9503C15.3498 22.9503 14.805 22.8658 14.3066 22.6968C13.8152 22.5278 13.3915 22.2919 13.0355 21.9891C12.6794 21.6864 12.4017 21.3272 12.2023 20.9118C12.0029 20.4893 11.9033 20.0316 11.9033 19.5387C11.9033 18.3346 12.3554 17.4052 13.2598 16.7503C14.1713 16.0885 15.5278 15.7575 17.3294 15.7575H18.985V15.0815C18.985 14.5322 18.8034 14.0992 18.4402 13.7824C18.0771 13.4585 17.5537 13.2965 16.8701 13.2965C16.2648 13.2965 15.8233 13.4268 15.5456 13.6873C15.2679 13.9408 15.129 14.2824 15.129 14.7118H12.1596C12.1596 14.226 12.2664 13.7648 12.48 13.3282C12.7008 12.8917 13.0177 12.5079 13.4307 12.1769C13.8508 11.846 14.36 11.5855 14.9581 11.3954C15.5634 11.1982 16.2541 11.0996 17.0303 11.0996C17.7281 11.0996 18.3761 11.1841 18.9743 11.3531C19.5796 11.5221 20.1029 11.7721 20.5444 12.103C20.9859 12.4339 21.3313 12.8529 21.5805 13.3599C21.8298 13.8598 21.9544 14.4408 21.9544 15.1026V20.0035C21.9544 20.6161 21.9935 21.123 22.0719 21.5244C22.1502 21.9258 22.2641 22.2708 22.4137 22.5594V22.739H19.4015ZM16.571 20.6794C16.8701 20.6794 17.1478 20.6442 17.4041 20.5738C17.6605 20.5033 17.8919 20.4119 18.0984 20.2991C18.3049 20.1865 18.4829 20.0597 18.6325 19.9189C18.782 19.7711 18.8995 19.6232 18.985 19.4753V17.5108H17.4682C17.0054 17.5108 16.6102 17.5566 16.2826 17.6481C15.955 17.7326 15.688 17.8558 15.4815 18.0178C15.275 18.1726 15.1219 18.3628 15.0222 18.5881C14.9225 18.8064 14.8727 19.0458 14.8727 19.3063C14.8727 19.7007 15.0115 20.0281 15.2892 20.2886C15.5741 20.5491 16.0013 20.6794 16.571 20.6794Z' fill='%23242424'/%3E%3C/svg%3E%0A") no-repeat center;
    mask-size: contain;

    background-color: var(--c-text);

    vertical-align: middle;
  }

  .cookbook-navbar-items {
    display: flex;

    align-items: center;
    justify-content: flex-end;
  }

  &.fixed {
    z-index: 11;

    position: sticky;
    top: 0;
    left: 0;
    right: 0;

    border-bottom: 1px solid var(--c-bg);
    background-color: rgba(var(--c-bg-rgb), 0.6);
    backdrop-filter: blur(16px);
  }

  .search-box {
    --search-input-width: 10rem;
    margin-left: 2.5rem;

    @include media-breakpoint-down(md) {
      --search-input-width: 100%;
      margin-left: 1.5rem;
    }

    input {
      border-radius: 8px;

      background-position-y: 0.4rem;
    }

    .suggestions {
      z-index: 100;
      display: block;
    }

    .suggestion {
      a {
        color: var(--c-text-lighter);
      }

      &.focus {
        a {
          color: var(--c-brand);
        }
      }
    }
  }

  .hidden-on-search {
    opacity: 1;
    transition: opacity 0.18s;
  }

  &.search-expanded {
    @include media-breakpoint-down(md) {
      .hidden-on-search {
        opacity: 0;
      }
    }
  }
}
</style>
